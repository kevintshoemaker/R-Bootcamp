<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Getting started: working with objects" />


<title>Module 1.1</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R bootcamp, Fall 2021</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Bootcamp #1: getting started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="module1_1.html">Submodule 1.1: working with objects</a>
    </li>
    <li>
      <a href="module1_2.html">Submodule 1.2: managing data</a>
    </li>
    <li>
      <a href="module1_3.html">Submodule 1.3: plotting and basic stats</a>
    </li>
    <li>
      <a href="module1_4.html">Submodule 1.4: Programming in R</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Bootcamp #2: Beyond the basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="module2_1.html">Submodule 2.1: R packages</a>
    </li>
    <li>
      <a href="module2_2.html">Submodule 2.2: Using the 'tidyverse'</a>
    </li>
    <li>
      <a href="module2_3.html">Submodule 2.3: Plotting with 'ggplot'</a>
    </li>
    <li>
      <a href="module2_4.html">Submodule 2.4: Parallel computing in R</a>
    </li>
    <li>
      <a href="module2_5.html">Submodule 2.5: Spatial analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data sets
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="data.dat">Example: tab-separated data</a>
    </li>
    <li>
      <a href="data.csv">Example: comma-separated data</a>
    </li>
    <li>
      <a href="data.txt">Example: whitespace-separated data</a>
    </li>
    <li>
      <a href="data_missing.txt">Example: missing data</a>
    </li>
    <li>
      <a href="MTMetStations.csv">Meteorological Data</a>
    </li>
    <li>
      <a href="sculpineggs.csv">Sculpin Data</a>
    </li>
    <li>
      <a href="turtle_data.txt">Turtle Data</a>
    </li>
    <li>
      <a href="geneData.csv">Gene Data</a>
    </li>
    <li>
      <a href="reptiles.csv">Reptile Data</a>
    </li>
    <li>
      <a href="data.zip">GIS Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Module 1.1</h1>
<h4 class="author">Getting started: working with objects</h4>
<h4 class="date">Fall 2021</h4>

</div>


<p>NOTE: this module borrows heavily from an R short course developed by a team at Colorado State University. - Thanks to Perry Williams for allowing us to use these materials!!</p>
<p>Welcome to the 2021 R bootcamp! Let’s get started!!</p>
<div id="get-materials-for-this-module" class="section level2">
<h2>Get materials for this module</h2>
<ul>
<li>I recommend having a printed copy of a good base R “cheatsheet” (or two) as you get started. You will be introduced to a lot of new material very quickly in this workshop, and you are not expected to remember everything! ‘Cheatsheets’ like this can quickly and easily refresh your memory. So print out the cheatsheet and don’t worry if you don’t memorize everything we tell you in this workshop- the key is that you leave this workshop knowing what can be done in R (just about everything!) and how to learn how to do things in R. And most importantly, we hope the workshop gives you confidence to learn new things and try new things in R!</li>
</ul>
<p>Here are links to good base R “cheatsheets”:</p>
<p><a href="https://www.i3s.unice.fr/~malapert/R/pdf/base-r.pdf">Base R Cheat sheet</a><br />
<a href="https://cran.r-project.org/doc/contrib/Short-refcard.pdf">R reference card</a><br />
<a href="https://www.rstudio.com/wp-content/uploads/2016/02/advancedR.pdf">More advanced base R cheat sheet</a></p>
</div>
<div id="load-script-for-module-1.1" class="section level2">
<h2>Load script for module #1.1</h2>
<ol style="list-style-type: decimal">
<li><p>Click <a href="module1_1.R">here</a> to download the script for this module! I recommend right-clicking (or control-clicking for Macs) on the link and selecting the “Save As” option from the context menu. Save the script to a convenient folder on your laptop, which will serve as your <strong>working directory</strong> for this bootcamp. I recommend creating a new folder to store all the scripts, data sets and other materials from these modules!</p></li>
<li><p>Start a new <strong>RStudio Project</strong>. To do this, open RStudio and from the File menu select File&gt;&gt;New Project. In the menu that follows, select “Existing Directory”, and then navigate to the folder in which you saved the R script for this module (your working directory). The R project will automatically take the name of your working directory folder.</p></li>
<li><p>Load a blank script in RStudio. To do this, click on the “blank paper” icon at the far left of the RStudio toolbar (or File&gt;&gt;New File&gt;&gt;R script). Your RStudio interface should now be divided into four quadrants. In the RStudio default configuration, the top left panel is your <strong>script</strong> (a set of written commands that R can recognize and execute), the bottom left panel is your <strong>console</strong> (your direct connection with R- prints errors and stores a record of commands that have already been run), the top right panel is your <strong>Workspace</strong> (container for all the objects – data, variables, functions– that you have defined in your current R session), and the bottom right panel is a set of tabbed interfaces that let you view help files, load packages, view graphical plots, view files in your working directory, etc. Basically, RStudio provides all the functionality you need to develop, debug and execute R code!</p></li>
</ol>
<p>Let’s get started!!</p>
<p><img src="rstudio1.jpg" /></p>
</div>
<div id="explore-the-r-console" class="section level2">
<h2>Explore the R console</h2>
<p>The R console (what you see if you opened R directly without going through RStudio) is a <strong>command line</strong> interface, and is <em>your direct connection with the R statistical programming language</em>. That means you give R a command to run in the console and R executes that command. This is the heart of R- all the rest of RStudio consist of wrappers to help us make effective use of R! In fact, after this short demo you will rarely interact directly with the console (instead, you will use scripts!)!</p>
<p>The R console is located in the left half or bottom left of the RStudio interface (see figure above).</p>
<ol style="list-style-type: decimal">
<li><p>Click on the console just to the right of one of the “&gt;” prompts.</p></li>
<li><p>You can use the console like a calculator. For example, type <code>2+2</code> at the prompt and hit enter. What does R do?</p></li>
<li><p>Now hit the “up” arrow. The R console remembers all previous commands that it has executed in this <strong>session</strong>, which allows you to re-run commands relatively easily. However, if you accidentally hit the “up” arrow you lose everything you had been typing!</p></li>
<li><p>Any command that is preceded by a pound sign (#) is ignored by the R console. Try typing <code># 2+2</code> and hitting “Enter”. Nothing happens, right?</p></li>
</ol>
<div id="lets-create-our-first-object" class="section level3">
<h3>Let’s create our first object</h3>
<p>Objects are defined using R’s <strong>assignment operator</strong>, which looks like a left arrow (<code>&lt;-</code>). Type the following statement directly into the console:</p>
<pre class="r"><code>Batmans_butler &lt;- &#39;Alfred Pennyworth&#39;  </code></pre>
<p>Then hit “Enter”. What does R return?</p>
<p>NOTHING!</p>
<p>BUT…. check the <strong>Environment</strong>, or <strong>Workspace</strong> window (top right of RStudio interface). You should see that you now have a new <strong>object</strong> in your environment, called “Batmans_butler”, and this object contains a <strong>text string</strong> (“Alfred Pennyworth”).</p>
<p>Now type <code>print(Batmans_butler)</code><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> into the R console and hit “Enter”. What happens? <a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<p>If you enter the name of an object at the command line, R automatically prints the value of the object- you don’t need to use the <code>print()</code> function… Try it: type <code>Batmans_butler</code> into the R console and hit “Enter”. R dutifully returns the name of Bruce Wayne’s loyal and tireless butler, best friend and surrogate father figure. In fact, when you type the name of an object and hit “Enter”, R will automatically print the contents of that object back to the console.</p>
</div>
</div>
<div id="graduating-to-r-scripts" class="section level2">
<h2>Graduating to R Scripts</h2>
<p>You will quickly realize that although the command-line R console is nice for some things, there is a much better way to develop R code. That is by storing a sequential set of commands as a text file. This text file (the standard is to use the “.R” extension) is called an <strong>R script</strong>. Again, the top left quadrant of the RStudio interface (at least by default) is where you can view and edit your R scripts.</p>
<div id="new-script" class="section level3">
<h3>New script</h3>
<p>If you haven’t done it already, create a new R script by clicking on the “blank paper” icon at the far left of the RStudio toolbar (or File&gt;&gt;New File&gt;&gt;R script).</p>
<p>In your blank script, define a new object. For example:</p>
<pre><code>
my_obj &lt;- 2+2
</code></pre>
<p>Now highlight the text you just wrote (or place the cursor somewhere within the text) and hit ‘Ctrl+Enter’ (or ‘Command+Enter’) to run that line of code!</p>
<p>Click on a new (blank) line in the script and type <code>2+2</code>. Now hit “Ctrl+Enter” (or “Command+Enter”) to run the line of code.</p>
<p>Of course, it’s always a good idea to save your scripts often – so feel free to save your new script before you move on.</p>
</div>
<div id="load-existing-script" class="section level3">
<h3>Load Existing script</h3>
<p>Remember the file you downloaded at the beginning of this submodule? That file is an R script- Let’s load it up now!</p>
<p>To do this, click on the “folder” icon on the Rstudio toolbar (or File &gt;&gt; Open File) and choose the script you downloaded earlier.</p>
<p>The first few lines (commands) of the script for this module are preceded by pound signs. R doesn’t do anything with these commands- they are called <strong>comments</strong>, and they help to keep code clear, organized and understandable to human readers.</p>
<p><em>use comments early and often- they are tremendously valuable</em>.</p>
<p>Click on the top of the script (first line of comments). To <strong>run</strong> a line of code, press the “Ctrl” key (or the “Command” key) and hit “Enter”. R will then run that line through the console. But of course, nothing happens because it’s a comment and not meant to be interpreted by your machine<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.</p>
<p>If you click on a line of code that is not followed by a pound sign, you should see that R interprets the text on that line of code and stores any newly defined objects in memory (see top right quadrant of the Rstudio interface – ‘Workspace’ (or Environment) tab – for a list of objects stored in memory)</p>
<p>Now you know the basics of how to use R scripts.</p>
</div>
</div>
<div id="a-quick-r-demo" class="section level2">
<h2>A quick R demo</h2>
<p>Before we get into the basics, let’s just run through some of what R can do! Don’t worry if you don’t understand something- we will go over all of this in much greater detail later!</p>
<p>To get started quickly, we will first load a data set that is built into R!</p>
<pre class="r"><code>###############
# R DEMO: 
###############

#  don&#39;t worry if you don&#39;t understand this just yet- this is just a taste of where we are going!

#########
# load a built-in dataset

data(trees)</code></pre>
<p>Next, we can examine the data object in r. Again, we will get into this in much more detail later!</p>
<pre class="r"><code>#########
# explore the data object

summary(trees)    # summary statistics for all variables in data frame</code></pre>
<pre><code>##      Girth           Height       Volume     
##  Min.   : 8.30   Min.   :63   Min.   :10.20  
##  1st Qu.:11.05   1st Qu.:72   1st Qu.:19.40  
##  Median :12.90   Median :76   Median :24.20  
##  Mean   :13.25   Mean   :76   Mean   :30.17  
##  3rd Qu.:15.25   3rd Qu.:80   3rd Qu.:37.30  
##  Max.   :20.60   Max.   :87   Max.   :77.00</code></pre>
<pre class="r"><code>str(trees)        # summary of the data structure</code></pre>
<pre><code>## &#39;data.frame&#39;:    31 obs. of  3 variables:
##  $ Girth : num  8.3 8.6 8.8 10.5 10.7 10.8 11 11 11.1 11.2 ...
##  $ Height: num  70 65 63 72 81 83 66 75 80 75 ...
##  $ Volume: num  10.3 10.3 10.2 16.4 18.8 19.7 15.6 18.2 22.6 19.9 ...</code></pre>
<p>Now let’s visualize the data and start to get a sense for what patterns we can detect.</p>
<pre class="r"><code>#########
# visualize the data

   # histograms:
layout(matrix(1:3,nrow=1,byrow = T))    # set up a multi-panel graphics device (three plots side by side)
hist(trees$Height)                       # visualize the distribution of height data
hist(trees$Girth)                        # visualize the distribution of girth data
hist(trees$Volume)                       # visualize the distribution of volume data</code></pre>
<p><img src="module1_1_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>   # bivariate scatterplots:

layout(matrix(1:2,nrow=1,byrow = T))      # set graphics device with 2 plots side by side
plot(trees$Volume~trees$Girth)            # scatterplot of volume against girth
plot(trees$Volume~trees$Height)           # scatterplot of volume against height</code></pre>
<p><img src="module1_1_files/figure-html/unnamed-chunk-5-2.png" width="672" /></p>
<pre class="r"><code>pairs(trees)    # plots all scatterplots together as a scatterplot matrix!</code></pre>
<p><img src="module1_1_files/figure-html/unnamed-chunk-5-3.png" width="672" /></p>
<p>Now we can perform some basic statistics, like a regression analysis:</p>
<pre class="r"><code>##########
# perform linear regression analysis

model1 &lt;- lm(Volume~Girth,data=trees)        # regress Volume on Girth

summary(model1)    # examine the results</code></pre>
<pre><code>## 
## Call:
## lm(formula = Volume ~ Girth, data = trees)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -8.065 -3.107  0.152  3.495  9.587 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -36.9435     3.3651  -10.98 7.62e-12 ***
## Girth         5.0659     0.2474   20.48  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 4.252 on 29 degrees of freedom
## Multiple R-squared:  0.9353, Adjusted R-squared:  0.9331 
## F-statistic: 419.4 on 1 and 29 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Then we can perform some diagnostic tests to make sure the data meet the assumptions of the analysis:</p>
<pre class="r"><code>######
# test key assumptions visually

layout(matrix(1:4,nrow=2,byrow=T))  # set up graphics window
plot(model1)  # run diagnostic plots for our regression</code></pre>
<p><img src="module1_1_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>And finally, let’s visualize the results:</p>
<pre class="r"><code>#########
# visualize the results!

xvals &lt;- seq(5,30,0.5)            # set the range of &quot;Girth&quot; values over which you want to make predictions about &quot;Volume&quot;
pred &lt;- predict(model1,newdata=data.frame(Girth=xvals),interval = &quot;confidence&quot;,level = 0.99)   # use the linear model to make predictions about &quot;Volume&quot;

plot(trees$Volume~trees$Girth,xlab=&quot;Girth (inches)&quot;,ylab=&quot;Volume (cubic feet)&quot;,main=&quot;Black Cherry&quot;,
     xlim=range(xvals),ylim=c(0,100))         # Make a pretty scatterplot

abline(model1,lwd=2,col=&quot;brown&quot;)              # Add the regression line
lines(xvals,pred[,&quot;upr&quot;],col=&quot;brown&quot;,lty=2)       # Add the upper bound of the confidence interval
lines(xvals,pred[,&quot;lwr&quot;],col=&quot;brown&quot;,lty=2)       #      ... and the lower bound
text(10,80,sprintf(&quot;Volume = %s + %s*Girth&quot;,round(coefficients(model1)[1],1),round(coefficients(model1)[2],1)))       # Add the regression coefficients
text(10,65,sprintf(&quot;p = %s&quot;,round(summary(model1)$coefficients[,&quot;Pr(&gt;|t|)&quot;][2],3)))     # Add the p-value</code></pre>
<p><img src="module1_1_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
<div id="workspace-management" class="section level2">
<h2>Workspace management</h2>
<p>The workspace (environment) panel window in R can become cluttered as we create variables and assignments in R. As we work through the modules in this bootcamp it will be helpful to clear the workspace every once in a while to maintain our sanity. Earlier we assigned the value “Alfred Pennyworth” to the variable <code>Batmans_butler</code>. Let’s remove that from the workspace. There are several ways to do this.</p>
<ol style="list-style-type: decimal">
<li>In the ‘environment’ panel in RStudio (upper right quadrant) there is a little broom. If you click that it will clear the entire workspace.<br />
</li>
<li>Use <code>rm(Batmans_butler)</code> to clear just the <code>Batmans_butler</code> variable.</li>
<li>Use this handy one-liner <code>rm(list=ls())</code> to clear the entire workspace.</li>
</ol>
</div>
<div id="back-to-basics-r-objects" class="section level2">
<h2>Back to basics! R Objects</h2>
<p>R has many different kinds of objects that you can define and store in memory. These are the building blocks of the language.</p>
<p>Object <strong>classes</strong> that enable storage of information and data (data storage structures) include: <em>scalars</em>, <em>vectors</em>, <em>matrices</em>, <em>lists</em>, and <em>data frames</em>.</p>
<p>Objects that transform data and perform data operations/statistics/visualizations etc. are called <em>functions</em>.</p>
<p>ASIDE: if you are familiar with encapsulated object-oriented programming in C++/Python/Javascript then it may take you a while to feel comfortable with R, as it is much more oriented to functional programming (which is well suited for data analysis!).</p>
<div id="data-types" class="section level3">
<h3>Data types</h3>
<p>It is important to note that all R data objects have a property called <strong>type</strong> (sometimes referred to as data types), which describes the type of data that is stored within the object. The most common data types in R are:</p>
<ul>
<li>“numeric” (numbers)<br />
</li>
<li>“character” (text strings)</li>
<li>“logical” (TRUE/FALSE)<br />
</li>
<li>“factor” (categorical)</li>
</ul>
</div>
<div id="data-storage-objects" class="section level3">
<h3>Data storage objects</h3>
<div id="scalars" class="section level4">
<h4>Scalars</h4>
<p>Scalars are the simplest objects in R. A scalar is just a single value. Remember when we assigned the text string ‘Alfred Pennyworth’ to the <code>Batmans_butler</code> object? When we did that we created a scalar data object that contained a single text string. Scalars can be a single value of any data type.</p>
<pre class="r"><code>##################
####  Create R Objects 
##################

#############
### scalars
#############

scalar1 &lt;- &#39;this is a scalar&#39;
scalar2 &lt;- 104
scalar3 &lt;- 5 + 6.5    # evaluates to the single value 11.5
scalar4 &lt;- &#39;4&#39;</code></pre>
<p>Scalars do have a specific type. In the example above, <code>scalar1</code> is a character, <code>scalar2</code> and <code>scalar3</code> are both numeric. What is the data type for <code>scalar4</code>?</p>
<p>If you are uncertain about the type of any R object the R function <a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> <code>typeof()</code> will come in handy. Lets work through the code below.</p>
<pre class="r"><code>typeof(scalar4)    # returns: character

## what is this type?
scalar5 &lt;- TRUE
typeof(scalar5)    # returns: logical</code></pre>
<p>Again, scalars can contain any of the most common data types:</p>
<ul>
<li>numeric (2, 8.2)<br />
</li>
<li>character (‘a’, ‘scalar’)<br />
</li>
<li>logical (<code>TRUE</code>, <code>FALSE</code>)<br />
</li>
<li>factor (factor(“a”,levels=c(“a”,“b”))) [NOTE: we’ll cover factors in more detail later. Scalar factors are not really useful!]</li>
</ul>
<p>What happens when we try and add <code>scalar2</code> and <code>scalar4</code>? Think about the types of each scalar. Run the code below to find out.</p>
<pre class="r"><code>## what happens when we run this line of code? Think about the types.
scalar2 + scalar4</code></pre>
<p>This error can be common in R. Remember that <code>scalar4</code> is a character, R cannot perform mathematical operations on characters. Double check your types with the <code>typeof()</code> function.</p>
</div>
<div id="vectors" class="section level4">
<h4>Vectors</h4>
<p>Vectors are combinations of scalars stored as a single object.</p>
<p>NOTE: strictly speaking, there are no true scalars in R- scalars are actually just vectors with 1 element!</p>
<p>Let’s create some vectors:</p>
<pre class="r"><code>#############
### VECTORS
#############

vector1 &lt;- c(1.1, 2.1, 3.1, 4)
vector2 &lt;- c(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
vector3 &lt;- c(1, &#39;a&#39;, 2, &#39;b&#39;)
vector4 &lt;- c(TRUE, &#39;a&#39;, 1)
vector5 &lt;- c(TRUE, 1.2, FALSE)</code></pre>
<p>There are many different ways to create a vector. You’ll learn more about that later in the bootcamp. Check out some of the vectors you just created. Each vector is composed of several scalars. Each of these scalars is an <strong>element</strong> of the vector. You can still check the types of the objects with the <code>typeof()</code> function (try it yourself).</p>
<p>What happened with <code>vector2</code> and <code>vector4</code>? Looking at the script, these vectors appear to contain a mix of numeric and character types, but the resulting vector is all characters!</p>
<p>This is because <em>all elements of a vector must be the same type</em>. This is because most basic functions and operations in R are meant to be applied to entire vectors, so if an operation makes sense only for numbers, the vector the operation is applied to can’t have a mix of characters and numbers (e.g., R wouldn’t know what to do if you tried to take the sum of 3, 1, and “a”). Therefore, R will attempt to convert (coerce) all vector elements to a single type. Check the contents of <code>vector5</code>. The types of each element are logical, numeric, logical. In this case R has decided to convert the logical elements to numeric. <code>TRUE</code> maps to 1 and <code>FALSE</code> maps to 0.</p>
<p>In the code above we use another function called <code>c()</code>. You can think of it as ‘c for combine’. It takes several objects, and combines them together into a vector. We can even use <code>c()</code> to combine scalar (or vector) objects, like below.</p>
<pre class="r"><code>a &lt;- 1
b &lt;- 2
c &lt;- c(3,4)

d.vec &lt;- c(a, b, c)
d.vec</code></pre>
<pre><code>## [1] 1 2 3 4</code></pre>
<p><code>d.vec</code> is a vector with 3 elements: 1, 2, 3 and 4. Alternatively, we could create the vector “d.vec” with the following code:</p>
<pre class="r"><code>d.vec &lt;- c(1,2,3,4)            # another way to construct the vector &quot;d.vec&quot;
d.vec = c(1,2,3,4)             # the &quot;equals&quot; sign can also be an assignment operator
d.vec &lt;- 1:4                   # we can use the colon operator as a shorthand for creating a sequence of integers</code></pre>
<p>Now let’s do some stuff with vectors!</p>
<pre class="r"><code>length(d.vec)    # the &quot;length()&quot; function returns the number of elements in a vector

d1 &lt;- d.vec           # copy the vector &quot;d.vec&quot;
d2 &lt;- d.vec+3         # add 3 to all elements of the vector &quot;d.vec&quot;
d3 &lt;- d1+d2           # elementwise addition
d4 &lt;- d1+c(1,2)       # what does this do?

## inspect the objects by calling them in the console (or script window)
d1    # returns: 1 2 3
d2    # returns: 4 5 6
d3    # returns: 5 7 9
d4    # returns: 2 4 4</code></pre>
<p><em>NOTE: the last command we ran, “d1+c(1,2)”, produced a <strong>warning message</strong>. Remember to take warning messages seriously- a warning message means “the command ran but the results might not make sense”! In this case, the warning was that we tried to add two vectors of different length. R’s default is to repeat (recycle) the shorter vector until it matches the length of the longer vector.</em></p>
</div>
<div id="matrix-objects-in-r" class="section level4">
<h4>Matrix objects in R</h4>
<p><strong>Matrix</strong> objects are just a bunch of vectors grouped together, either by row or by column! To form a matrix, the vectors must be of the same length and the same <strong>type</strong>. If different types are provided R will attempt to coerce the elements into a common type. A matrix has two <strong>dimensions</strong>: rows and columns.</p>
<p>Let’s make our first matrix. One simple way to make a matrix is just by joining two vectors using the function <code>cbind()</code> (bind vectors or matrices together by column) or <code>rbind()</code> (bind vectors or matrices together by row)</p>
<pre class="r"><code>#############
### MATRICES
#############

d.mat &lt;- cbind(d1,d2)        # create a matrix by binding vectors, with vector d1 as column 1 and d2 as column 2
d.mat</code></pre>
<pre><code>##      d1 d2
## [1,]  1  4
## [2,]  2  5
## [3,]  3  6
## [4,]  4  7</code></pre>
<pre class="r"><code>class(d.mat)   # confirm that the new object &quot;d.mat&quot; is a matrix!</code></pre>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<p>And there are other ways to make a matrix in R. For instance, we can use the function “matrix()” (this is a constructor function for matrices):</p>
<pre class="r"><code>d.mat &lt;- matrix(c(1,2,3,4,5,6),nrow=3,ncol=2)        # create matrix another way (stack columns together)
d.mat</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<pre class="r"><code>d.mat &lt;- matrix(c(1,2,3,4,5,6),nrow=3,ncol=2,byrow=T)        # create matrix another way (stack rows together)
d.mat</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## [3,]    5    6</code></pre>
<pre class="r"><code>d.mat &lt;- rbind(c(1,4),c(2,5),c(3,6))        # create matrix another way (stacking three vectors)
d.mat</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<p>We can do math with matrices too:</p>
<pre class="r"><code># math with matrices

d.mat + 2</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    3    6
## [2,]    4    7
## [3,]    5    8</code></pre>
<pre class="r"><code>d.mat/sum(d.mat)</code></pre>
<pre><code>##            [,1]      [,2]
## [1,] 0.04761905 0.1904762
## [2,] 0.09523810 0.2380952
## [3,] 0.14285714 0.2857143</code></pre>
</div>
<div id="multi-dimensional-arrays" class="section level4">
<h4>Multi-dimensional arrays</h4>
<p>We can structure information in more than two dimensions using objects of the “array” class. Again, all elements of an array must be of the <em>same data type</em>.</p>
<pre class="r"><code>############
### ARRAYS!
############

d.array=array(0,dim=c(3,2,4))       # create 3 by 2 by 4 array full of zeros
d.array                                   # see what it looks like</code></pre>
<pre><code>## , , 1
## 
##      [,1] [,2]
## [1,]    0    0
## [2,]    0    0
## [3,]    0    0
## 
## , , 2
## 
##      [,1] [,2]
## [1,]    0    0
## [2,]    0    0
## [3,]    0    0
## 
## , , 3
## 
##      [,1] [,2]
## [1,]    0    0
## [2,]    0    0
## [3,]    0    0
## 
## , , 4
## 
##      [,1] [,2]
## [1,]    0    0
## [2,]    0    0
## [3,]    0    0</code></pre>
<pre class="r"><code>d.mat=matrix(1:6,nrow=3)
d.array[,,1]=d.mat                      # enter d as the first slice of the array
d.array[,,2]=d.mat*2                    # enter d*2 as the second slide...
d.array[,,3]=d.mat*3
d.array[,,4]=d.mat*4
d.array                                   # view the array </code></pre>
<pre><code>## , , 1
## 
##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6
## 
## , , 2
## 
##      [,1] [,2]
## [1,]    2    8
## [2,]    4   10
## [3,]    6   12
## 
## , , 3
## 
##      [,1] [,2]
## [1,]    3   12
## [2,]    6   15
## [3,]    9   18
## 
## , , 4
## 
##      [,1] [,2]
## [1,]    4   16
## [2,]    8   20
## [3,]   12   24</code></pre>
<pre class="r"><code>d.array[1,2,4]  # view an element of the array</code></pre>
<pre><code>## [1] 16</code></pre>
<pre class="r"><code>d.array[1,,]    # view a slice of the array</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    2    3    4
## [2,]    4    8   12   16</code></pre>
</div>
<div id="lists" class="section level4">
<h4>Lists</h4>
<p><strong>List objects</strong> are far more general than either matrices or arrays. <strong>List</strong> objects are just a bunch of potentially unrelated R data objects grouped together! The elements of a list don’t even need to be the same length or the same <strong>type</strong>. The elements of a list can be vectors, arrays, matrices, functions, or other lists - they could be literally any R object.</p>
<p>Let’s make our first list:</p>
<pre class="r"><code>#############
### LISTS
#############

d.list &lt;- list()        # create empty list
d.list[[1]] &lt;- c(1,2,3)     # note the double brackets- this is one way to reference and define a specified list element. 
d.list[[2]] &lt;- c(4,5)
d.list[[3]] &lt;- &quot;Alfred Pennyworth&quot;
d.list</code></pre>
<pre><code>## [[1]]
## [1] 1 2 3
## 
## [[2]]
## [1] 4 5
## 
## [[3]]
## [1] &quot;Alfred Pennyworth&quot;</code></pre>
<div id="data-frames-a-very-special-kind-of-list" class="section level5">
<h5>Data frames (a very special kind of list)</h5>
<p><strong>Data frame</strong> objects are a special type of <strong>list</strong> in which each element of the list is a <em>vector</em> object. Importantly, in a data frame object, <em>all of the component vectors must have the same number of elements</em>. The <em>j</em>th element (vector object) of a data frame is also known as the <em>j</em>th <em>column</em>. The <em>row</em> of a data frame refers to the <em>i</em>th element of each of the <em>j</em> vectors. Data frames superficially resemble matrices, since both types of objects have two <strong>dimensions</strong>: rows and columns. However, data frames are really much more general than matrices; in data frames, unlike matrices, the columns of a data frame can represent different <strong>types</strong> (i.e., character, logical, numeric, factor), and can thereby code for very different types of information!</p>
<p><em>Data frames are the basic data storage structure in R</em>. You can think of a data frame like a spreadsheet. Each row of the the data frame represents a different observation, and each column represents a different measurement taken on that observation unit.</p>
<p>Let’s make our first data frame. We will use the constructor function “data.frame()”.</p>
<pre class="r"><code>#############
### DATA FRAMES
#############
d.df &lt;- data.frame(d1=c(1,2,3),d2=c(4,5,6))        # create a ‘data frame’ with two columns. Each column is a vector of length 3
d.df</code></pre>
<pre><code>##   d1 d2
## 1  1  4
## 2  2  5
## 3  3  6</code></pre>
<p>Now we have a data frame with three observation units and two measurements (variables).</p>
<p>Alternatively, we can convert (coerce) a matrix to a data frame:</p>
<pre class="r"><code>d.df=data.frame(d.mat)        # create data frame another way - directly from a matrix
d.df</code></pre>
<pre><code>##   X1 X2
## 1  1  4
## 2  2  5
## 3  3  6</code></pre>
<p>We can use the “names()” function to see the names of each element of a list or data frame (column of a data frame), or to change these names!</p>
<pre class="r"><code>names(d.df)          # view or change column names</code></pre>
<pre><code>## [1] &quot;X1&quot; &quot;X2&quot;</code></pre>
<pre class="r"><code>names(d.df)=c(&quot;meas_1&quot;,&quot;meas_2&quot;)        # provide new names for columns
d.df</code></pre>
<pre><code>##   meas_1 meas_2
## 1      1      4
## 2      2      5
## 3      3      6</code></pre>
<p>And we can view or change the row names of a data frame (or matrix) using the “rownames()” function:</p>
<pre class="r"><code>rownames(d.df) &lt;- c(&quot;obs1&quot;,&quot;obs2&quot;,&quot;obs3&quot;)
d.df</code></pre>
<pre><code>##      meas_1 meas_2
## obs1      1      4
## obs2      2      5
## obs3      3      6</code></pre>
</div>
</div>
</div>
<div id="functions" class="section level3">
<h3>Functions</h3>
<p>Functions are an essential building block in R. We’ve already used a few functions (<code>typeof</code>, <code>c</code>) without fully understanding what they are. That is about to change!</p>
<p>Functions are essentially machines that take any inputs (objects, values) (also known as <strong>arguments</strong>) and produce something in return (objects, plots, tables, files). Functions have a common <strong>syntax</strong>: the name of the function is followed by parentheses- within which the arguments are entered. The basic syntax looks like the code snippet below.</p>
<p><img src="funcmach.png" /></p>
<pre><code>## function syntax
functionName(input1=[user input #1], input2=[user input #2])</code></pre>
<p>Let’s use another function called <code>sum()</code>. This function takes a set of several values and computes the sum of those numbers.</p>
<pre class="r"><code>#############
### functions
#############

sum(1, 2, 3, 10)    # returns: 15

## sum can be used with one of the vectors we created
sum(vector1)        # returns: 10.3</code></pre>
<p>If you ever forget the arguments of a function, or how it works there are several ways to get help. There is a built in function called <code>help()</code> that will takes a function name as an argument, and looks up the help documents for the given function. The <code>?</code> is an alternative to the <code>help</code> function.</p>
<pre class="r"><code>help(sum)
?sum    # this is an alternative to &#39;help(sum)&#39;!</code></pre>
<p>We will revisit functions in more detail (and build our own functions) in the “Programming” submodule.</p>
</div>
</div>
<div id="making-up-data" class="section level2">
<h2>Making up data!</h2>
<p>In this section, we will ‘make up’ a bunch of data objects. In the next submodule we’ll practice working with real data!</p>
<div id="generating-sequences-of-numbers" class="section level3">
<h3>Generating sequences of numbers</h3>
<p>One task that comes up a lot is generating sequences of numbers. We certainly don’t want to do this entirely by hand! Here are some shortcuts:</p>
<pre class="r"><code>#############
### MAKING UP DATA!
#############

#######
# Generating vector sequences

1:10                        # sequential vector from 1 to 10</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>10:1                        # reverse the order</code></pre>
<pre><code>##  [1] 10  9  8  7  6  5  4  3  2  1</code></pre>
<pre class="r"><code>rev(1:10)                   # a different way to reverse the order</code></pre>
<pre><code>##  [1] 10  9  8  7  6  5  4  3  2  1</code></pre>
<pre class="r"><code>seq(from=1,to=10,by=1)      # equivalent to 1:10</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>seq(10,1,-1)                # equivalent to 10:1</code></pre>
<pre><code>##  [1] 10  9  8  7  6  5  4  3  2  1</code></pre>
<pre class="r"><code>seq(1,10,length=10)         # equivalent to 1:10</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>seq(0,1,length=10)          # sequence of length 10 between 0 and 1 </code></pre>
<pre><code>##  [1] 0.0000000 0.1111111 0.2222222 0.3333333 0.4444444 0.5555556 0.6666667
##  [8] 0.7777778 0.8888889 1.0000000</code></pre>
<p>Another task is to group regular recurring sequences together:</p>
<pre class="r"><code>##############
# Repeating vector sequences

rep(0,times=3)                # repeat 0 three times</code></pre>
<pre><code>## [1] 0 0 0</code></pre>
<pre class="r"><code>rep(1:3,times=2)              # repeat 1:3 two times</code></pre>
<pre><code>## [1] 1 2 3 1 2 3</code></pre>
<pre class="r"><code>rep(1:3,each=2)               # repeat each element of 1:3 two times</code></pre>
<pre><code>## [1] 1 1 2 2 3 3</code></pre>
<p>And finally, we can fill up a vector with random numbers using one of R’s built in <strong>random number generators</strong>:</p>
<pre class="r"><code>###########
# Random numbers

z &lt;- rnorm(10)                # 10 realizations from std. normal
z</code></pre>
<pre><code>##  [1]  1.4537117  0.6365061 -1.6755194  0.4394276 -0.4975630  0.2644075
##  [7] -0.5488092  0.7337206  1.6665146 -2.1062529</code></pre>
<pre class="r"><code>y &lt;- rnorm(10,mean=-2,sd=4)           # 10 realizations from N(-2,4^2)
y</code></pre>
<pre><code>##  [1] -5.24807496  0.66098733 -0.27511942 -4.11638590 -2.93527197 -6.48810090
##  [7] -0.65936713 -0.25330161 -0.06662933 -3.87977122</code></pre>
<pre class="r"><code>rbinom(5,size=3,prob=.5)                # 5 realizations from Binom(3,0.5)</code></pre>
<pre><code>## [1] 1 2 3 2 2</code></pre>
<pre class="r"><code>rbinom(5,3,.1)                # 5 realizations from Binom(3,0.1)</code></pre>
<pre><code>## [1] 0 1 0 0 0</code></pre>
<pre class="r"><code>rbinom(5,3,.8)                # 5 realizations from Binom(3,0.8)</code></pre>
<pre><code>## [1] 3 2 3 3 3</code></pre>
<pre class="r"><code>rbinom(5,1:5,0.5)       # simulations from binomial w/ diff number of trials</code></pre>
<pre><code>## [1] 0 0 2 3 0</code></pre>
<pre class="r"><code>rbinom(5,1:5,seq(.1,.9,length=5))   # simulations from diff number of trials and probs</code></pre>
<pre><code>## [1] 0 0 1 2 4</code></pre>
<pre class="r"><code>runif(10)                # 10 standard uniform random variates</code></pre>
<pre><code>##  [1] 0.05415913 0.16011170 0.68150789 0.29587720 0.64462661 0.83240521
##  [7] 0.36827331 0.07255974 0.25219255 0.91626563</code></pre>
<pre class="r"><code>runif(10,min=-1,max=1)        # 10 uniform random variates on [-1,1]</code></pre>
<pre><code>##  [1]  0.21828378  0.13223725  0.93541284  0.24659510 -0.02755055  0.34602654
##  [7]  0.74904925 -0.05954047 -0.34390981 -0.34769387</code></pre>
<pre class="r"><code>sample(1:10,size=5,replace=TRUE)        # 5 rvs from discrete unif. on 1:10.</code></pre>
<pre><code>## [1] 2 7 3 1 8</code></pre>
<pre class="r"><code>sample(1:10,size=5,replace=TRUE,prob=(1:10)/sum(1:10)) # 5 rvs from discrete pmf w/ varying probs.</code></pre>
<pre><code>## [1] 5 7 9 9 7</code></pre>
<p>And finally, we can make up a fake data frame using some of the tricks we just learned!</p>
<pre class="r"><code>############
# Make up an entire fake data frame!


my.data &lt;- data.frame(
  Obs.Id = 1:100,
  Treatment = rep(c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;),each=20),
  Block = rep(1:20,times=5),
  Germination = rpois(100,lambda=rep(c(1,5,4,7,1),each=20)),
  AvgHeight = rnorm(100,mean=rep(c(10,30,31,25,35,7),each=20))
)
head(my.data)</code></pre>
<pre><code>##   Obs.Id Treatment Block Germination AvgHeight
## 1      1         A     1           2 11.095688
## 2      2         A     2           0 10.735637
## 3      3         A     3           1  9.921545
## 4      4         A     4           0 10.646437
## 5      5         A     5           2  9.639875
## 6      6         A     6           2  9.396094</code></pre>
<pre class="r"><code>summary(my.data)    # Use the &quot;summary()&quot; function to summarize each column in the data frame.</code></pre>
<pre><code>##      Obs.Id        Treatment             Block        Germination   
##  Min.   :  1.00   Length:100         Min.   : 1.00   Min.   : 0.00  
##  1st Qu.: 25.75   Class :character   1st Qu.: 5.75   1st Qu.: 1.00  
##  Median : 50.50   Mode  :character   Median :10.50   Median : 3.00  
##  Mean   : 50.50                      Mean   :10.50   Mean   : 3.65  
##  3rd Qu.: 75.25                      3rd Qu.:15.25   3rd Qu.: 6.00  
##  Max.   :100.00                      Max.   :20.00   Max.   :14.00  
##    AvgHeight     
##  Min.   : 9.396  
##  1st Qu.:24.001  
##  Median :29.351  
##  Mean   :26.189  
##  3rd Qu.:31.649  
##  Max.   :37.731</code></pre>
<p>NOTE: the “head()” function displays only the first few rows of a data frame, making it easier to look at. Displaying all 100 rows is a little distracting, and never mind if you had thousands of observations!</p>
</div>
</div>
<div id="accessing-indexing-and-subsetting-data" class="section level2">
<h2>Accessing, indexing and subsetting data</h2>
<p>In any data analysis project, we will need to manage, manipulate and process your data objects. To do this, we need to be able to access elements and subsets of our data objects.</p>
<p>To access a particular element of a vector, we just enclose the element(s) we want in brackets:</p>
<pre class="r"><code>############
### Accessing, indexing and subsetting data
############

# X[i]         access the ith element of vector X

d.vec &lt;- 2:10
d.vec</code></pre>
<pre><code>## [1]  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>d.vec[3]</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code>d.vec[c(1,5)]</code></pre>
<pre><code>## [1] 2 6</code></pre>
<pre class="r"><code>d.vec[-3]</code></pre>
<pre><code>## [1]  2  3  5  6  7  8  9 10</code></pre>
<p>It is even more intuitive to access elements of a <strong>named vector</strong>:</p>
<pre class="r"><code>d.vec &lt;- 1:4
names(d.vec) &lt;- c(&quot;fred&quot;,&quot;sally&quot;,&quot;mimi&quot;,&quot;terrence&quot;)
d.vec</code></pre>
<pre><code>##     fred    sally     mimi terrence 
##        1        2        3        4</code></pre>
<pre class="r"><code>d.vec[&quot;terrence&quot;]</code></pre>
<pre><code>## terrence 
##        4</code></pre>
<pre class="r"><code>d.vec[c(&quot;sally&quot;,&quot;fred&quot;)]</code></pre>
<pre><code>## sally  fred 
##     2     1</code></pre>
<p>We can similarly subset matrices using brackets, but we need to specify the rows AND columns we’re interested in extracting!</p>
<pre class="r"><code># X[a,b]       access row a, column b element of matrix/data frame X
# X[,b]        access column b of matrix/data frame X
# X[a,]        access row a of matrix/data frame X

d &lt;- matrix(1:6,3,2)
d</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<pre class="r"><code>d[,2]                # 2nd column of d</code></pre>
<pre><code>## [1] 4 5 6</code></pre>
<pre class="r"><code>d[2,]                # 2nd row of d</code></pre>
<pre><code>## [1] 2 5</code></pre>
<pre class="r"><code>d[2:3,]        # 2nd and 3rd rows of d in a matrix</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    2    5
## [2,]    3    6</code></pre>
<p>Subsetting works much the same for lists and data frames. However, now we can reference data frame columns (variables) and other list elements using the dollar sign operator:</p>
<pre class="r"><code># $            access component of an object (data frame or list)
# Z_list[[i]]  access the ith element of list Z

d.df=my.data[21:30,]  # only take 10 observations
d.df</code></pre>
<pre><code>##    Obs.Id Treatment Block Germination AvgHeight
## 21     21         B     1           6  30.18191
## 22     22         B     2           4  29.69007
## 23     23         B     3           4  29.37562
## 24     24         B     4           6  29.09281
## 25     25         B     5           4  30.41765
## 26     26         B     6           8  29.26896
## 27     27         B     7           4  28.01265
## 28     28         B     8           6  29.77800
## 29     29         B     9           2  31.55788
## 30     30         B    10           3  29.62046</code></pre>
<pre class="r"><code>## many ways of accessing a particular column of a data frame
d.df$Germination           # Subsetting a data frame</code></pre>
<pre><code>##  [1] 6 4 4 6 4 8 4 6 2 3</code></pre>
<pre class="r"><code>d.df[[&quot;Germination&quot;]]      # same thing!</code></pre>
<pre><code>##  [1] 6 4 4 6 4 8 4 6 2 3</code></pre>
<pre class="r"><code>d.df[,4]                   # same thing!</code></pre>
<pre><code>##  [1] 6 4 4 6 4 8 4 6 2 3</code></pre>
<pre class="r"><code>d.df[[4]]                  # same thing!</code></pre>
<pre><code>##  [1] 6 4 4 6 4 8 4 6 2 3</code></pre>
<pre class="r"><code>d.df[,&quot;Germination&quot;]       # same thing!</code></pre>
<pre><code>##  [1] 6 4 4 6 4 8 4 6 2 3</code></pre>
<pre class="r"><code>d.df[&quot;Germination&quot;]        # same thing!  (or is it...??)</code></pre>
<pre><code>##    Germination
## 21           6
## 22           4
## 23           4
## 24           6
## 25           4
## 26           8
## 27           4
## 28           6
## 29           2
## 30           3</code></pre>
<pre class="r"><code>d.df$AvgHeight</code></pre>
<pre><code>##  [1] 30.18191 29.69007 29.37562 29.09281 30.41765 29.26896 28.01265 29.77800
##  [9] 31.55788 29.62046</code></pre>
<pre class="r"><code>d.df$AvgHeight[3]  # subset an element of a data frame</code></pre>
<pre><code>## [1] 29.37562</code></pre>
<pre class="r"><code># Data frame can also be indexed just like a matrix
d.df[,2]</code></pre>
<pre><code>##  [1] &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot;</code></pre>
<pre class="r"><code>d.df[2,]</code></pre>
<pre><code>##    Obs.Id Treatment Block Germination AvgHeight
## 22     22         B     2           4  29.69007</code></pre>
<pre class="r"><code>d.df[,2:3]</code></pre>
<pre><code>##    Treatment Block
## 21         B     1
## 22         B     2
## 23         B     3
## 24         B     4
## 25         B     5
## 26         B     6
## 27         B     7
## 28         B     8
## 29         B     9
## 30         B    10</code></pre>
<pre class="r"><code>d.df[2,2:3]</code></pre>
<pre><code>##    Treatment Block
## 22         B     2</code></pre>
<p>Here are some useful R functions for exploring data objects:</p>
<pre class="r"><code>###############
# Other data exploration tricks in R

length(d2)        # Obtain length (# elements) of vector d2
dim(d.mat)        # Obtain dimensions of matrix or array
summary(my.data)  # summarize columns in a data frame. 
names(my.data)    # get names of variables in a data frame (or names of elements in a named vector)
nrow(my.data)     # get number of rows/observations in a data frame
ncol(my.data)     # get number of columns/variables in a data frame
str(my.data)      # look at the &quot;internals&quot; of an object (useful for making sense of complex objects!)</code></pre>
</div>
<div id="basic-mathematical-operations" class="section level2">
<h2>Basic mathematical operations</h2>
<p>Here are some basic mathematical operations you can do in R:</p>
<pre class="r"><code>########
# basic mathematical operations

2+3              # addition
          
6-10             # subtraction
          
2.5*33           # multiplication
      
4/5              # division
      
2^3              # exponentiation
        
sqrt(9)          # square root 
      
8^(1/3)          # cube root      
       
exp(3)           # antilog     

log(20.08554)    # natural logarithm (but it&#39;s possible to change the base)

log10(147.9108)  # common logarithm 

log(147.9108, base=10) 

factorial(5)     # factorial

21 %% 5          # modulus   </code></pre>
</div>
<div id="challenge-exercises" class="section level2">
<h2>Challenge exercises!</h2>
<ol style="list-style-type: decimal">
<li>Create a 3 by 2 matrix equivalent to d.mat by binding rows (HINT: use the “rbind()” function), using the following as rows:</li>
</ol>
<pre class="r"><code>############
### CHALLENGE EXERCISES
############

### Challenge 1: Create a 3 by 2 matrix equivalent to d.mat by binding rows 

# (HINT: use the &quot;rbind()&quot; function), using the following as rows:

c(1,4) </code></pre>
<pre><code>## [1] 1 4</code></pre>
<pre class="r"><code>c(2,5) </code></pre>
<pre><code>## [1] 2 5</code></pre>
<pre class="r"><code>c(3,6)</code></pre>
<pre><code>## [1] 3 6</code></pre>
<pre class="r"><code>### Challenge 2: Is d.mat[-c(1,2),] a matrix or a vector? HINT: you can use the &quot;class()&quot; function to help out.

### Challenge 3: Create a new matrix &#39;d.mat2&#39; by converting directly from data frame d.df, and using only columns 3 to 5 of the object &#39;d.df&#39;.

### Challenge 4: Create a 3 by 1 (3 rows, 1 column) matrix called &#39;d.mat3&#39; with elements c(1,2,3). How is this matrix different from a vector (e.g., created by running the command &#39;1:3&#39;)? HINT: use the &quot;dim()&quot; function, which returns the dimensionality of an object.

### Challenge 5: Take your matrix &#39;d.mat2&#39; and convert (coerce) it to a vector containing all elements in the matrix. HINT: use the &quot;as.vector()&quot; function.

### Challenge 6: Create a list named &#39;d.list&#39; that is composed of a vector: 1:3, a matrix: matrix(1:6,nrow=3,ncol=2), and an array: array(1:24,dim=c(3,2,4)).

### Challenge 7: Extract (subset) the 2nd row of the 3rd matrix in the array in &#39;d.list&#39; (the list created in challenge 6 above). For this exercise, please consider the array to be indexed as [row #, column #, matrix #]. 

### Challenge 8: (extra challenging!) Create a data frame named &#39;df_spatial&#39; that contains 25 locations, with &#39;long&#39; and &#39;lat&#39; as the column names (25 rows/observations, 2 columns/variables). These locations should describe a 5 by 5 regular grid with extent long: [-1,1] and lat: [-1,1]. 

###     HINT: you don&#39;t need to type each location in by hand!</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Is d.mat[-c(1,2),] a matrix or a vector? HINT: you can use the “class()” function to help out.</p></li>
<li><p>Create a new matrix ‘d.mat2’ by converting directly from data frame d.df, and using only columns 3 to 5 of the object ‘d.df’.</p></li>
<li><p>Create a 3 by 1 (3 rows, 1 column) matrix called ‘d.mat3’ with elements c(1,2,3). How is this matrix different from a vector (e.g., created by running the command ‘1:3’)? HINT: use the “dim()” function, which returns the dimensionality of an object.</p></li>
<li><p>Take your matrix ‘d.mat2’ and convert it to a vector containing all elements in the matrix. HINT: use the “as.vector()” function.</p></li>
<li><p>Create a list named ‘d.list’ that is composed of a vector: 1:3, a matrix: matrix(1:6,nrow=3,ncol=2), and an array: array(1:24,dim=c(3,2,4)).</p></li>
<li><p>Extract (subset) the 2nd row of the 3rd matrix in the array in ‘d.list’ (the list created in challenge 6 above). For this exercise, please consider the array to be indexed as [row #, column #, matrix #].</p></li>
<li><p>(extra challenging!) Create a data frame named ‘df_spatial’ that contains 25 locations, with ‘long’ and ‘lat’ as the column names (25 rows/observations, 2 columns/variables). These locations should describe a 5 by 5 regular grid with extent long: [-1,1] and lat: [-1,1].</p></li>
</ol>
<p>HINT: you don’t need to type each location in by hand!</p>
<p>To make sure you got it right, use the following commands in R:</p>
<p>Don’t worry if you don’t understand the code- we’ll talk about plotting soon enough!</p>
<pre class="r"><code>########
# Code for visualizing the results from challenge problem 8

plot(x=df_spatial$long, y=df_spatial$lat, main=&quot;Regular grid&quot;,xlab=&quot;long&quot;,ylab=&quot;lat&quot;,xlim=c(-1.5,1.5),ylim=c(-1.5,1.5),pch=20,cex=2)
abline(v=c(-1,1),h=c(-1,1),col=&quot;green&quot;,lwd=1)</code></pre>
<p><img src="module1_1_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>It should look something like this (above)!</p>
<p><a href="module1_2.html">–go to next module–</a></p>
<div id="finally-some-more-advanced-exploration-of-functions" class="section level4">
<h4>Finally: some more advanced exploration of functions</h4>
<p>Here is some code to help you get more familiar with some of the less intuitive aspects of R functions:</p>
<pre class="r"><code>#################
# More advanced exploration of functions!

########
## first class functions

## assign functions to values
sum2 &lt;- sum
sum2(1, 2, 3, 10)    # use the value sum2 as a function!

## use functions as arguments in other functions
## lets compute the average length of some of the vectors we&#39;ve created
## this should return 3.66
mean(c(length(vector1), length(vector2), length(vector3)))</code></pre>
<p>Let’s walk through this last line of code together. We are use 3 different functions: <code>c</code>, <code>length</code>, <code>mean</code>. <code>length</code> is calculating the length of each vector. We are then taking the results of length and creating a vector with the <code>c</code> functions. The result of this is then used as the argument for the <code>mean</code> function.</p>
<p>Throughout your R journey you will see these properties used many times. Maybe not so much when first starting. But they are important concepts. Especially the fact that the R has first-class functions. Functions are often used as arguments to other functions as a shortcut. It saves the intermediate step of saving the results to another variable, then providing that variable as an argument. It also tends to save memory, as we are no longer storing that variable in memory.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>NOTE: <code>print()</code> is an <strong>R function</strong> that comes with base R. It takes the name of an object as its <strong>argument</strong> and it responds by printing the contents of that object. We’ll get more into R functions shortly.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>RStudio has a useful auto-type feature, which can save you lots of time and headaches. After you’ve typed the first couple letters (e.g., “bat”), RStudio will suggest “Batmans_butler” and you can just hit “Enter” to complete the object name! The auto-type feature, unlike R, is not case sensitive!<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>RStudio has several helpful keyboard shortcuts to make running lines of code easier. <a href="https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts">Check this website</a> for a comprehensive set of keyboard shortcuts<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>Functions are essentially machines that take inputs (objects, values) (also known as <strong>arguments</strong>) and produce something in return (objects, plots, tables, files). Functions have a common <strong>syntax</strong>: the name of the function is followed by parentheses- within which the arguments are entered. We will learn how to write our own R functions in a later module!<a href="#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
